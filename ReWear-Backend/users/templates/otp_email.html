{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Verification Code</title>
</head>

<body style="margin:0; padding:0; background-color:#f4f4f4;">
  <!--[if mso]>
    <style>
      body, table, td {font-family: Arial, sans-serif !important;}
    </style>
  <![endif]-->

  <table width="100%" cellpadding="0" cellspacing="0" style="background-color:#f4f4f4; padding: 30px 0;">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" style="background-color:#ffffff; border-radius:8px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          
          <!-- Logo / Header -->
          <tr>
            <td align="center" style="padding:20px; background-color:#1a73e8;">
              <img src="{% static 'images/logo.png' %}" alt="Your Company" width="120" style="display:block;" />
            </td>
          </tr>

          <!-- Title -->
          <tr>
            <td style="padding: 30px 40px 10px; text-align:center; font-family:Arial, sans-serif; color:#333333;">
              <h1 style="margin:0; font-size:24px; font-weight:normal;">
                Your One‑Time Password (OTP)
              </h1>
            </td>
          </tr>

          <!-- Main Content -->
          <tr>
            <td style="padding: 0 40px 30px; font-family:Arial, sans-serif; color:#555555; line-height:1.5;">
              <p style="margin:0 0 20px;">
                Hello {{ user.first_name|default:"there" }},<br/><br/>
                You requested a one‑time password to verify your email address. Use the code below to complete your action:
              </p>

              <!-- OTP Box -->
              <table align="center" cellpadding="0" cellspacing="0" style="margin:20px auto; border-collapse:collapse;">
                <tr>
                  <td style="background-color:#1a73e8; padding:15px 25px; border-radius:4px; text-align:center;">
                    <span style="font-size:32px; letter-spacing:4px; color:#ffffff; font-family:Courier, monospace;">
                      {{ otp }}
                    </span>
                  </td>
                </tr>
              </table>

              <p style="margin:0 0 20px;">
                This code will expire in <strong>{{ expiry_minutes }} minutes</strong>. If you did not request this, you can safely ignore this email.
              </p>
            </td>
          </tr>

          <!-- Call to Action / Button (optional) -->
          <tr>
            <td align="center" style="padding-bottom:30px;">
              <a href="{{ verification_url }}" style="display:inline-block; padding:12px 24px; font-family:Arial,sans-serif; text-decoration:none; background-color:#1a73e8; color:#ffffff; border-radius:4px;">
                Verify Now
              </a>
            </td>
          </tr>

          <!-- Footer -->
          <tr>
            <td style="padding:20px 40px; background-color:#f9f9f9; font-family:Arial, sans-serif; color:#999999; font-size:12px; text-align:center;">
              <p style="margin:0;">
                If you have any questions, reply to this email or contact our support team at 
                <a href="mailto:{{ support_email }}" style="color:#1a73e8; text-decoration:none;">{{ support_email }}</a>.
              </p>
              <p style="margin:8px 0 0;">
                © {{ current_year }} Your Company. All rights reserved.
              </p>
            </td>
          </tr>

        </table>
      </td>
    </tr>
  </table>

  <!-- Plain‑text fallback -->
  <div style="display:none; white-space:pre; font-family:monospace; font-size:12px;">
    Hello {{ user.first_name|default:"there" }},\n
    Your OTP is: {{ otp }}\n
    It will expire in {{ expiry_minutes }} minutes.\n
    If you did not request this, please ignore this email.\n
    — Your Company Team
  </div>
</body>
</html>
